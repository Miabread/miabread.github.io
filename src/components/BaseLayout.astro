---
import Sidebar from './sidebar/Sidebar.astro';
import '../global.css';
---

<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>miabread.github.io</title>
        <script>
            import { updateTheme } from './sidebar/theme';
            updateTheme();
        </script>
        <style>
            /* Make sure both blurs are equal */
            body:before {
                filter: blur(20px);
            }
            .dark body:before {
                filter: blur(20px) brightness(0.7);
            }

            body:before {
                content: '';

                /* Force element to take up full screen, regardless of scrolling */
                position: fixed;
                left: 0;
                right: 0;
                z-index: -1;
                width: 100vw;
                height: 100vh;

                /* Get rid of white around borders */
                transform: scale(1.1);

                background-image: linear-gradient(
                        45deg,
                        rgba(254, 246, 210, 0.53) 0%,
                        rgba(254, 246, 210, 0.53) 14.286%,
                        rgba(221, 240, 216, 0.53) 14.286%,
                        rgba(221, 240, 216, 0.53) 28.572%,
                        rgba(188, 233, 223, 0.53) 28.572%,
                        rgba(188, 233, 223, 0.53) 42.858%,
                        rgba(156, 227, 229, 0.53) 42.858%,
                        rgba(156, 227, 229, 0.53) 57.144%,
                        rgba(123, 220, 235, 0.53) 57.144%,
                        rgba(123, 220, 235, 0.53) 71.43%,
                        rgba(90, 214, 242, 0.53) 71.43%,
                        rgba(90, 214, 242, 0.53) 85.716%,
                        rgba(57, 207, 248, 0.53) 85.716%,
                        rgba(57, 207, 248, 0.53) 100.002%
                    ),
                    linear-gradient(
                        135deg,
                        rgb(246, 99, 200) 0%,
                        rgb(246, 99, 200) 12.5%,
                        rgb(223, 98, 196) 12.5%,
                        rgb(223, 98, 196) 25%,
                        rgb(199, 97, 192) 25%,
                        rgb(199, 97, 192) 37.5%,
                        rgb(176, 96, 188) 37.5%,
                        rgb(176, 96, 188) 50%,
                        rgb(152, 95, 184) 50%,
                        rgb(152, 95, 184) 62.5%,
                        rgb(129, 94, 180) 62.5%,
                        rgb(129, 94, 180) 75%,
                        rgb(105, 93, 176) 75%,
                        rgb(105, 93, 176) 87.5%,
                        rgb(82, 92, 172) 87.5%,
                        rgb(82, 92, 172) 100%
                    );
            }
        </style>
    </head>
    <body class="text-black dark:text-white">
        <div class="flex">
            <aside class="h-screen sticky top-0 flex flex-col justify-center">
                <Sidebar />
            </aside>
            <main class="grow">
                <slot />
            </main>
        </div>
    </body>
</html>
